version: "3"

tasks:
  up-all:
    desc: –ü–æ–¥–Ω—è—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤–º–µ—Å—Ç–µ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
    cmds:
      - task up-core
      - task up-inventory
      - task up-order
      - task up-iam

  down-all:
    desc: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏ –≤–º–µ—Å—Ç–µ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
    cmds:
      - task down-core
      - task down-inventory
      - task down-order
      - task down-iam

  up-core:
    desc: –ü–æ–¥–Ω—è—Ç—å core –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
    dir: deploy/compose/core
    cmds:
      - echo "[task] üöÄ –ü–æ–¥–Ω–∏–º–∞–µ–º core –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã"
      - docker compose up --build --detach

  down-core:
    desc: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å core –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
    dir: deploy/compose/core
    cmds:
      - echo "[task] üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º core –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã"
      - docker compose down --volumes

  up-inventory:
    desc: –ü–æ–¥–Ω—è—Ç—å Inventory —Å–µ—Ä–≤–∏—Å –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    dir: deploy/compose/inventory
    cmds:
      - echo "[task] üì¶ –ü–æ–¥–Ω–∏–º–∞–µ–º Inventory —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
      - docker compose up --build --detach

  down-inventory:
    desc: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å Inventory —Å–µ—Ä–≤–∏—Å –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    dir: deploy/compose/inventory
    cmds:
      - echo "[task] üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Inventory —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
      - docker compose down --volumes

  up-order:
    desc: –ü–æ–¥–Ω—è—Ç—å Order —Å–µ—Ä–≤–∏—Å –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    dir: deploy/compose/order
    cmds:
      - echo "[task] üì¶ –ü–æ–¥–Ω–∏–º–∞–µ–º Order —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
      - docker compose up --build --detach

  down-order:
    desc: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å Order —Å–µ—Ä–≤–∏—Å –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    dir: deploy/compose/order
    cmds:
      - echo "[task] üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Order —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
      - docker compose down --volumes

  up-iam:
    desc: –ü–æ–¥–Ω—è—Ç—å IAM —Å–µ—Ä–≤–∏—Å –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    dir: deploy/compose/iam
    cmds:
      - echo "[task] üîê –ü–æ–¥–Ω–∏–º–∞–µ–º IAM —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
      - docker compose up --build --detach

  down-iam:
    desc: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å IAM —Å–µ—Ä–≤–∏—Å –∏ –≤—Å–µ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    dir: deploy/compose/iam
    cmds:
      - echo "[task] üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º IAM —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
      - docker compose down --volumes
